<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Order</title>
</head>
<body>
    <h1>Order for employee:</h1>
    <h1><a th:href="@{'/employees/' + ${order.getEmployeesId()}}" th:text="${employee.getName()} + ' ' + ${employee.getSurname()}"></a></h1>
    <p>---------------------------------------------------------------------</p>
    <h1>By client:</h1>
    <h1><a th:href="@{'/clients/' + ${order.getClientId()}}" th:text="${client.getName()} + ' ' + ${client.getSurname()}"></a></h1>
    <p>---------------------------------------------------------------------</p>
    <h1 th:text="'Coffee: ' + ${order.getName()}"></h1>
    <h1 th:text="'Arabica: ' + ${order.getArabica()}">arabica</h1>
    <h1 th:text="'Cup size: ' + ${order.getCupSize()}">cup</h1>
    <h1 th:text="'Total price: ' + ${order.getTotalPrice()}">price</h1>
    <h1 th:if="${#httpSession.getAttribute('USER_ROLE')} == 'client'" th:text="'Status: ' + ${order.getStatus()}">status</h1>
    <div th:if="${order.getEmployeesId()} == ${#httpSession.getAttribute('USER_ID')}">
        <a th:if="${#httpSession.getAttribute('USER_ROLE')} == 'employee' and ${order.getStatus().equals('not started')}" th:href="@{'/orders/' + ${order.getId()} + '/take'}">Take Order</a>
        <a th:if="${#httpSession.getAttribute('USER_ROLE')} == 'employee' and ${order.getStatus().equals('in process')}" th:href="@{'/orders/' + ${order.getId()} + '/complete'}">Complete Order</a>
        <p th:if="${#httpSession.getAttribute('USER_ROLE')} == 'employee' and ${order.getStatus().equals('complete')}">Complete</p>
    </div>
    <a th:if="${#httpSession.getAttribute('USER_ROLE')} == 'client' and ${order.getStatus().equals('not started')} and ${order.getClientId()} == ${#httpSession.getAttribute('USER_ID')}" th:href="'/orders/' + ${order.getId()} + '/edit'">Edit order</a>
    <a th:if="${#httpSession.getAttribute('USER_ROLE')} == 'client' and ${order.getStatus().equals('complete')} and ${client.getMoney()} >= ${order.getTotalPrice()}" th:href="@{'/orders/' + ${order.getId()} + '/get'}">Get order</a>
    <p th:if="${#httpSession.getAttribute('USER_ROLE')} == 'client' and ${client.getMoney()} < ${order.getTotalPrice()}" th:text = "${insfundsmsg}">nopay</p>
</body>
</html>